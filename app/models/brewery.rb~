class Brewery < ActiveRecord::Base
    has_many :beers, dependent: :destroy
    has_many :ratings, through: :beers

    def average_rating
        self.beers.map{|beer| beer.average_rating}.inject{|sum, n| sum + n} / self.beers.count
    end
end
